import{_ as A,d as O,A as T,l as E,o as p,c as y,h as k,w as h,D as H,F as v,N as F,b as N,f as V,n as G,t as L,u as R,j as B}from"./index.b134b41b.js";const z=B("Best Move"),J=B("Reset"),S={class:"board"},W=["onClick"],X=O({__name:"ConnectFourView",setup($){let e=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],M=T([[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]),c=!0;function d(t){var o,s,i,_,u,l,a,m,f;for(let n=0;n<7;n++)for(let r=0;r<6;r++)if(e[n][r]===t&&(e[n][r]===e[n][r+1]&&e[n][r]===e[n][r+2]&&e[n][r]===e[n][r+3]||e[n][r]===((o=e[n+1])==null?void 0:o[r])&&e[n][r]===((s=e[n+2])==null?void 0:s[r])&&e[n][r]===((i=e[n+3])==null?void 0:i[r])||e[n][r]===((_=e[n+1])==null?void 0:_[r+1])&&e[n][r]===((u=e[n+2])==null?void 0:u[r+2])&&e[n][r]===((l=e[n+3])==null?void 0:l[r+3])||e[n][r]===((a=e[n-1])==null?void 0:a[r+1])&&e[n][r]===((m=e[n-2])==null?void 0:m[r+2])&&e[n][r]===((f=e[n-3])==null?void 0:f[r+3])))return!0}function x(){return e.every(t=>t.every(o=>o))}function g(t,o,s,i,_){if(d(t))return[1];if(d(-t))return[-1];if(x())return[0];if(o==0)return[0];let u=-1,l=[];for(let a=0;a<7;a++){let m=e[a].lastIndexOf(0);if(e[a][m]===0){e[a][m]=t;let f=-g(-t,o-1,-i,-s,!_)[0];if(e[a][m]=0,f>u&&(l=[]),f>=u&&l.push(a),u=Math.max(u,f),_){if(f>=i)break;s=Math.max(s,f)}else{if(f<=s)break;i=Math.min(i,f)}}}return[u,l]}function C(){for(let t=0;t<7;t++)for(let o=0;o<6;o++)M[o][t]=e[t][o]}function b(t=1){if(c)return;let[o,s]=g(t,8,-1/0,1/0,!0);if(console.log(-o*t),!s||!s.length)return;let i=s[Math.floor(Math.random()*s.length)];D(i,t),C(),c=!0}function w(){d(1)||d(-1)||x()||!c||(c=!1,b(-1),c=!1,setTimeout(b,0))}function D(t,o){let s=e[t].lastIndexOf(0);return s==-1?!1:(e[t][s]=o,!0)}function K(t){d(1)||d(-1)||x()||!c||(c=!1,D(t,-1),C(),setTimeout(b,500))}function j(t){if(!(t.ctrlKey||t.metaKey||t.altKey)&&t.key.length==1){if(t.key=="R"||t.key=="r")return t.preventDefault(),I();if(t.key=="J"||t.key=="j")return t.preventDefault(),w()}}function I(){e=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],c=!0,C()}return(t,o)=>{const s=E("GlobalEvents");return p(),y(v,null,[k(s,{onKeydown:j}),k(H,{"explicit-height":"",flexbox:""},{nav:h(()=>[k(F,{onClick:w},{default:h(()=>[z]),_:1}),k(F,{onClick:I},{default:h(()=>[J]),_:1})]),default:h(()=>[N("div",S,[(p(!0),y(v,null,V(R(M),(i,_)=>(p(),y(v,{key:_},[(p(!0),y(v,null,V(i,(u,l)=>(p(),y("span",{key:l,class:"outer-cell",onClick:a=>K(l)},[N("span",{class:G([u==-1?"x":u==1?"o":"n","cell"])},L(u==-1?"X":u==1?"O":"N"),3)],8,W))),128))],64))),128))])]),_:1})],64)}}});var P=A(X,[["__scopeId","data-v-3dbbe50c"]]);export{P as default};
