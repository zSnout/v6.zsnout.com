import{_ as z,d as A,A as O,l as T,o as m,c as x,h as b,D as E,w as v,F as y,N as F,b as N,f as V,n as H,t as G,u as L,j}from"./index.075875a4.js";const R=j("Best Move"),J=j("Reset"),S={class:"board"},W=["onClick"],X=A({__name:"ConnectFourView",setup($){let e=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],C=O([[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]),f=!0;function p(t){var o,a,s,d,i,c,u,_,l;for(let n=0;n<7;n++)for(let r=0;r<6;r++)if(e[n][r]===t&&(e[n][r]===e[n][r+1]&&e[n][r]===e[n][r+2]&&e[n][r]===e[n][r+3]||e[n][r]===((o=e[n+1])==null?void 0:o[r])&&e[n][r]===((a=e[n+2])==null?void 0:a[r])&&e[n][r]===((s=e[n+3])==null?void 0:s[r])||e[n][r]===((d=e[n+1])==null?void 0:d[r+1])&&e[n][r]===((i=e[n+2])==null?void 0:i[r+2])&&e[n][r]===((c=e[n+3])==null?void 0:c[r+3])||e[n][r]===((u=e[n-1])==null?void 0:u[r+1])&&e[n][r]===((_=e[n-2])==null?void 0:_[r+2])&&e[n][r]===((l=e[n-3])==null?void 0:l[r+3])))return!0}function g(){return e.every(t=>t.every(o=>o))}function w(t,o,a,s,d){if(p(t))return[1];if(p(-t))return[-1];if(g())return[0];if(o==0)return[0];let i=-1,c=[];for(let u=0;u<7;u++){let _=e[u].lastIndexOf(0);if(e[u][_]===0){e[u][_]=t;let l=-w(-t,o-1,-s,-a,!d)[0];if(e[u][_]=0,l>i&&(c=[]),l>=i&&c.push(u),i=Math.max(i,l),d){if(l>=s)break;a=Math.max(a,l)}else{if(l<=a)break;s=Math.min(s,l)}}}return[i,c]}function k(){for(let t=0;t<7;t++)for(let o=0;o<6;o++)C[o][t]=e[t][o]}function h(t=1){if(f)return;let[o,a]=w(t,8,-1/0,1/0,!0);if(console.log(-o*t),!a||!a.length)return;let s=a[Math.floor(Math.random()*a.length)];D(s,t),k(),f=!0}function M(){p(1)||p(-1)||g()||!f||(f=!1,h(-1),f=!1,setTimeout(h,0))}function D(t,o){let a=e[t].lastIndexOf(0);return a==-1?!1:(e[t][a]=o,!0)}function B(t){p(1)||p(-1)||g()||!f||(f=!1,D(t,-1),k(),setTimeout(h,500))}function K(t){if(!(t.ctrlKey||t.metaKey||t.altKey)&&t.key.length==1){if(t.key=="R"||t.key=="r")return t.preventDefault(),I();if(t.key=="J"||t.key=="j")return t.preventDefault(),M()}}function I(){e=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],f=!0,k()}return(t,o)=>{const a=T("GlobalEvents");return m(),x(y,null,[b(a,{onKeydown:K}),b(E,{"explicit-height":"",flexbox:""},{nav:v(()=>[b(F,{onClick:M},{default:v(()=>[R]),_:1}),b(F,{onClick:I},{default:v(()=>[J]),_:1})]),default:v(()=>[N("div",S,[(m(!0),x(y,null,V(L(C),(s,d)=>(m(),x(y,{key:d},[(m(!0),x(y,null,V(s,(i,c)=>(m(),x("span",{key:c,class:"outer-cell",onClick:u=>B(c)},[N("span",{class:H([i==-1?"x":i==1?"o":"n","cell"])},G(i==-1?"X":i==1?"O":"N"),3)],8,W))),128))],64))),128))])]),_:1})],64)}}});var P=z(X,[["__scopeId","data-v-3dbbe50c"]]);export{P as default};
